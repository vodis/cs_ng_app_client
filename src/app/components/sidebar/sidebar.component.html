<div class="sidebar h-100">
  <nav class="sidebar__nav" [ngClass]="{ mobile: isMobileView }">
    <ng-container *ngIf="!isMobileView">
      <ul class="sidebar__nav_menu">
        <mat-accordion>
          <mat-expansion-panel
            hideToggle
            [expanded]="isFarmPanelOpen"
            (opened)="handleToggleAccordion('isFarmPanelOpen', true)"
            (closed)="handleToggleAccordion('isFarmPanelOpen', false)">
            <mat-expansion-panel-header>
              <mat-panel-title class="menu-title"> Finance </mat-panel-title>
              <mat-icon>{{
                isFarmPanelOpen ? 'keyboard_arrow_up' : 'keyboard_arrow_down'
              }}</mat-icon>
            </mat-expansion-panel-header>
            <li
              *ngFor="let item of sidebarFinansialLinks; trackBy: trackById"
              class="menu-item">
              <a
                class="menu-link"
                [routerLinkActive]="'_is-active'"
                (click)="handleRouteChanging(item.url)"
                >{{ item.name }}</a
              >
            </li>
          </mat-expansion-panel>
        </mat-accordion>

        <mat-accordion>
          <mat-expansion-panel
            hideToggle
            [expanded]="isDevActivityPanelOpen"
            (opened)="handleToggleAccordion('isDevActivityPanelOpen', true)"
            (closed)="handleToggleAccordion('isDevActivityPanelOpen', false)">
            <mat-expansion-panel-header>
              <mat-panel-title class="menu-title">
                Dev Activity
              </mat-panel-title>
              <mat-icon>{{
                isDevActivityPanelOpen
                  ? 'keyboard_arrow_up'
                  : 'keyboard_arrow_down'
              }}</mat-icon>
            </mat-expansion-panel-header>
            <li
              *ngFor="let item of sidebarWorkProposalLinks; trackBy: trackById"
              class="menu-item">
              <a
                class="menu-link"
                [routerLinkActive]="'_is-active'"
                (click)="handleRouteChanging(item.url)"
                >{{ item.name }}</a
              >
            </li>
          </mat-expansion-panel>
        </mat-accordion>
      </ul>
    </ng-container>

    <ng-container *ngIf="isMobileView">
      <ul class="sidebar__nav_menu">
        <li
          *ngFor="let item of sidebarMobile; trackBy: trackById"
          class="menu-item">
          <a
            class="menu-link"
            [routerLinkActive]="'_is-active'"
            (click)="handleRouteChanging(item.url)"
            >{{ item.name }}</a
          >
        </li>
      </ul>
    </ng-container>
  </nav>
</div>
